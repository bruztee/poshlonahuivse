(()=>{"use strict";var e={23661:()=>{const e=(()=>{function e(e){const t=new RegExp(`(?:^|;)(?:[ s]*)(?:${e}=)([^;]+)`).exec(document.cookie);return t&&t[1]?t[1]:null}return{get:e,set:function(e,t,o){let n="";if(o){const e=new Date;e.setTime(e.getTime()+60*o*60*24*1e3),n=`; expires=${e.toUTCString()}`}document.cookie=`${e}=${t}${n}; path=/`},clear:function(t){if(e(t)){const e=new Date;return document.cookie=`${t}=0;expires=${e.toUTCString()}; path=/;`,!0}return!1},forToday:function(e,t){const o=`; expires=${new Date((new Date).setHours(23,59,59,999)).toUTCString()}`;document.cookie=`${e}=${t}${o}; path=/`}}})(),t="profile",o="loginType",n="last-update-token",s="_pc_bipf",r="userChurned",i=t=>e.set(s,1,t),a=function(s){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(localStorage.setItem(n,(new Date).getTime()),a&&localStorage.setItem(o,a),(e=>{localStorage.setItem(t,JSON.stringify(e))})(s),e.set("insider_uid",s["https://insider/memberId"],365),1===s["https://insider/enterprise"]&&i(90),s&&"insider"===s["https://insider/userAccessType"]&&i(90),1===s["https://insider/hasMobileAccess"]){const t=(e=>{const t=e-Math.floor(Date.now()/1e3);return Math.floor(t/86400)})(s["https://insider/expireAt"]);t>0&&i(t),e.set("hasMobileAccess",1,90)}var c;1===s.hadSubscription?(c=90,e.set(r,1,c)):e.clear(r)},c=["businessinsider.com","insider.engineering"];"localhost"===window.location.hostname&&c.push("localhost"),window.location.hostname.includes("insider.engineering")&&c.push("forseti.pages.dev");window.addEventListener("message",(i=>{if(!c.includes((e=>{const t=new URL(e).hostname.split(".");return t.slice(0).slice(-(4===t.length?3:2)).join(".")})(i.origin)))return;const{type:l,profile:u,universalId:p,loginType:d,anonymousId:m}=i.data;switch(l){case"logout":localStorage.removeItem(n),localStorage.removeItem(t),localStorage.removeItem(o),localStorage.removeItem("savedArticles"),e.clear(s),e.clear(r),window.parent.postMessage({type:"logout_complete"},"*");break;case"login":u&&(a(JSON.parse(u),d),window.parent.postMessage({type:"login_complete"},"*"))}p&&(localStorage.setItem("universal_id",p),localStorage.setItem("crossdomain_id_set",1)),m&&localStorage.setItem(`${i.data.resourceName}-anonymous-id`,m)}),!1);const l=localStorage.getItem("universal_id"),u=localStorage.getItem("anonymous_id"),p=window.Fenrir?.config?.resourceName||"";l&&window.parent.postMessage({type:"anonymous-sync",cookieName:"universal_id",cookieValue:l},"*"),p&&window.parent.postMessage({type:"anonymous-sync",cookieName:`${p}-anonymous-id`,cookieValue:u,resource:p},"*")}},t={};function o(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}o.m=e,o.c=t,o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{o.S={};var e={},t={};o.I=(n,s)=>{s||(s=[]);var r=t[n];if(r||(r=t[n]={}),!(s.indexOf(r)>=0)){if(s.push(r),e[n])return e[n];o.o(o.S,n)||(o.S[n]={});o.S[n];var i=[];return i.length?e[n]=Promise.all(i).then((()=>e[n]=1)):e[n]=1}}})();o(23661)})();